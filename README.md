# The Foundry

A simple MMO with a stateless server architectures.

Tech stack:

* Python 3.12
* Raylib 5.5

## 1. Core loop

1. Generate resources over time
2. Spend resources to upgrade a base
3. Use upgraded base to gain power
4. Combat with other players

## 2. Game elements

### Resources

The only resource on this simple game will be metal, generated by the mines depending
on time and level.

Metal can be used to upgrade level of buildings.

### Base

Each player has a single base. Each base has 2 buildings. The level of the base is
the sum of the level of the mine and twice the power of the military, and it defines
the total combat power of the player (so that upgrading the military increases the player's
power at twice the rate of the mine).

### Buildings

* Mine (increases metal generation rate)
* Factory (increases military power)

## 3. Combat

* Each player has a unique stat: Power (`mine_level + 2 * military_level`)

### Attack rule

```python
def attack(player, enemy):
    if player.power() > enemy.power():
        loot = enemy.metal * 0.3
        player.metal += loot
        enemy.metal -= loot
        return "Victory"
    else:
        player.metal *= 0.9
        return "Defeat"
```

TODO: Add randomness

## 4. Time mechanics

* Building upgrades takes time.
* Attacks require travel time.

Examples:

* Update mine: 5 minutes.
* Attack: Resolves in 60 seconds.

## 5. UI

* Top row: resources
* Main view: Base state.
* Bottom row: Upgrade mine. Upgrade military. Attack button (select target, confirm).
